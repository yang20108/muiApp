<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../css/public.css"/>
	</head>
	<body>
		<div>JavaScript 变量可以是局部变量或全局变量。私有变量可以用到<b>闭包</b>。</div>
		<p id="jishu">局部变量计数: 0</p>
		<button class="btn-one" onclick="myFun()">计数</button>
		<script type="text/javascript">
			var add = (function() {
				var count = 0;
				return function() {
					return count += 1;
				}
			})();
			function myFun() {
				document.getElementById("jishu").innerHTML = "局部变量计数: " + add();
			}
		</script>
		<div class="text-tips">
			闭包是一种保护私有变量的机制，在函数执行时形成私有的作用域，保护里面的私有变量不受外界干扰。
			直观的说就是形成一个不销毁的栈环境。
		</div>
	</body>
</html>
