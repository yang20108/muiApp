<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="../css/public.css" />
	</head>
	<body>
		<h3>什么是 HTML5 Web 存储?</h3>
		<div>HTML5 web 存储,一个比cookie更好的本地存储方式。<br />
		使用HTML5可以在本地存储用户的浏览数据。<br />
		早些时候,本地存储使用的是 cookie。<br />
		但是Web 存储需要更加的安全与快速. 这些数据不会被保存在服务器上，但是这些数据只用于用户请求网站数据上.它也可以存储大量的数据，而不影响网站的性能.<br />
		数据以 键/值 对存在, web网页的数据只允许该网页访问使用。
		</div>
		<h3>localStorage 和 sessionStorage </h3>
		<div>客户端存储数据的两个对象为：</div>
		<ul>
			<li>localStorage - 用于长久保存整个网站的数据，保存的数据没有过期时间，直到手动去除</li>
			<li>sessionStorage - 用于临时保存同一窗口(或标签页)的数据，在关闭窗口或标签页之后将会删除这些数据。</li>
		</ul>
		<div class="text-tips">在使用 web 存储前,应检查浏览器是否支持 localStorage 和sessionStorage:</div>
		<div class="text-yu-fa">
			if (typeof(Storage)!=="undefined") { <br />
				<div class="text-suo-jin">// 是的! 支持 localStorage  sessionStorage 对象!</div>
			} else { <br />
				<div class="text-suo-jin"> // 抱歉! 不支持 web 存储。</div>
			}
		</div>
		<h3>localStorage 对象</h3>
		<div>localStorage 对象存储的数据没有时间限制</div>
		示例：
		<div class="text-yu-fa">
			// sitename表示键, "菜鸟教程"表示值
			localStorage.sitename = "菜鸟教程";
			document.getElementById("result").innerHTML = "网站名：" + localStorage.sitename;
		</div>
		示例解析：
		<ul>
			<li>使用 key="sitename" 和 value="菜鸟教程" 创建一个 localStorage 键/值对。</li>
			<li>检索键值为"sitename" 的值然后将数据插入 id="result"的元素中。</li>
		</ul>
		<div>移除 localStorage 中的 "sitename" :</div>
		<div class="text-yu-fa">localStorage.removeItem("sitename");</div>
		<h3>sessionStorage 对象</h3>
		<div>sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</div>
		示例：
		<div class="text-yu-fa">
			if (sessionStorage.clickcount) {<br />
				sessionStorage.clickcount = Number(sessionStorage.clickcount) + 1;<br />
			} else {<br />
				sessionStorage.clickcount = 1;<br />
			}
			document.getElementById("result").innerHTML="在这个会话中你已经点击了该按钮 " + sessionStorage.clickcount + " 次 ";
		</div>
		<br /><b>不管是 localStorage，还是 sessionStorage，可使用的API都相同</b>
		<ul>
			<li>localStorage.setItem(key,value) 保存数据</li>
			<li>localStorage.getItem(key) 读取数据</li>
			<li>localStorage.removeItem(key) 删除单个数据</li>
			<li>localStorage.clear() 删除所有数据</li>
			<li>localStorage.key(index) 得到某个索引的key</li>
		</ul>
	</body>
</html>
